# Etapa de construcci贸n
FROM gradle:8.5-jdk17 AS build
WORKDIR /app

# Copiar los archivos de configuraci贸n y c贸digo fuente
COPY build.gradle settings.gradle ./
COPY src ./src

# Compilar el proyecto omitiendo los tests
RUN gradle build -x test

# Etapa de ejecuci贸n
FROM openjdk:17-jdk-slim
WORKDIR /app

# Copiar el JAR compilado desde la etapa anterior
COPY --from=build /app/build/libs/*.jar /app/movements.jar

EXPOSE 8082
ENTRYPOINT ["java", "-jar", "/app/movements.jar"]
